/**
 * @file image_preivew.js
 * @brief javascript code for preview image addon
 * @author Xvezda (xvezda@naver.com)
 */
jQuery(function(a){a.widget.bridge("tooltip",a.ui.tooltip);a(".xe_content").tooltip({items:"a:regex(href,\\.(jpe?g|gif|png|bmp)((#|\\?).*)?$)",track:!0,show:{effect:"fade",delay:!a.isEmptyObject(image_preview)&&image_preview.delay?image_preview.delay:"100"},position:{my:!a.isEmptyObject(image_preview)&&image_preview.position?image_preview.position:"left+15 bottom"},content:function(b){a("<img>").attr({src:a(this).attr("href"),style:"max-width:300px;height:auto"}).load(function(){b(this)}).error(function(){b('<img src="'+request_uri+'addons/image_preview/img/ina.gif" />')});return'<img src="'+request_uri+'addons/image_preview/img/load.gif" />'}})});jQuery.expr[":"].regex=function(a,b,d){b=d[3].split(",");var c=/^(data|css):/;d=b[0].match(c)?b[0].split(":")[0]:"attr";c=b.shift().replace(c,"");return(new RegExp(b.join("").replace(/^\s+|\s+$/g,""),"ig")).test(jQuery(a)[d](c))};
